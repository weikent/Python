#!/usr/bin/env python
# -*- coding: utf-8 -*-

__author__ = 'weishijian'


from ctypes import *
import os
import struct
import json

import codecs, binascii, base64



libdes = cdll.LoadLibrary(os.getcwd() + "/des.so")
res = '{"result":"success","list":[{"devID":"07AA641C2CD700994CEDC26C8C301730"},{"devID":"0F809096BD99D61C599016A65D02F70E"},{"devID":"189A925DB9049337048410AE5E89BCF3"},{"devID":"25F633A3E2B3BEB1E8A150A1B4C0CBF8"},{"devID":"34173F41CC0DA468D615F0514E8AEDA7"},{"devID":"3A9DD100413400A51A2BD096EC61B77A"},{"devID":"3E1A3C60BA65C68ED1CCB9245B54C889"},{"devID":"44CBA96AC1B0B6165E2787CCBB85E156"},{"devID":"494FD2363FE2EE359DF4B3C3F93997E9"},{"devID":"4A334EDB5A9786B06BCF693B121584A6"},{"devID":"5298709129FB2A324B09CF1753D041E5"},{"devID":"555EB29D3F2F872C83527B17E83E84A1"},{"devID":"58CE499A03BCBA322FC842446CD19D3A"},{"devID":"59DC4AB9718C1859E77E9AE80B9F9466"},{"devID":"5DA4CF15C31F2B178E6D4F43C0CC8005"},{"devID":"6736220B81446BA3B452DE842ECA30F0"},{"devID":"6BFDA5C8F8A3F3B65CE99F307712A2F1"},{"devID":"7B53A339E9DCAD41C03820B7B996625C"},{"devID":"7BF3A4072DC448E7E912058EEA4E9AFF"},{"devID":"8FDC3B297696D3528C0F537CDB4B7C35"},{"devID":"982D24DF0164BA0AC980081C726CE2D9"},{"devID":"9D0B87451D9C6F5FC6501BDF2D9CB370"},{"devID":"9DF60EE489C284745C62D2A0224E0A78"},{"devID":"A09815A3BB34F81EE5D5CBA0DD79CD8F"},{"devID":"A50A77CF8C7D871E67ED886BBBC07C12"},{"devID":"ABBA8FA532FF2F19CF234AC00DC09126"},{"devID":"AFC9A75E9D9CF4013CA66385AF215247"},{"devID":"BCEDF44025B003845AE40CE824C22EFF"},{"devID":"BD5D254FD37AB3CC5B23F326ABE1E1E3"},{"devID":"C13CEB8588F9E00468F6FA570A367897"},{"devID":"C1A13AABBFD5365B93F4F00C6B128E6D"},{"devID":"C3A35A4B4082797C116A6C5FA4742053"},{"devID":"C7516CD84D96821DB3D2AFD9B5A4CB00"},{"devID":"D6450FCAB897EBC405CE1E99809F9890"},{"devID":"E1FE94F2EC1B520E6004FA71638E6D5D"},{"devID":"ED27970BE39E5A9A9E635AC0B5522898"},{"devID":"ED6EF5131A371BDEAFA2694E4569963D"},{"devID":"F19BCA3126F562947DE89AA61C73400D"},{"devID":"F3090AFA740495F0427C6254D2158419"},{"devID":"F6DFCF3677F4B64D3ADB72753453CDCC"},{"devID":"FB73C57D4F5BCC8AC08595DB43142253"},{"devID":"FC36C33A56B7851E8EEF158BE554CB8E"}]}'
len_of_res = len(res)
print 'len_of_res', len_of_res
p = create_string_buffer(len_of_res + 8)

len_buffer2 = libdes.encry(p.value, len_of_res)


print "len_buffer2 = ", len_buffer2
print "buffer2.value = ",binascii.hexlify(p.value)
